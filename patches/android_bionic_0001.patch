From 92d8061b9491833b223cf34320125d8e3c3214f0 Mon Sep 17 00:00:00 2001
From: ErwinP <erwin.pannecoucke@gmail.com>
Date: Wed, 1 Aug 2012 10:42:03 +0200
Subject: [PATCH] Bionic: fix build error
 http://www.modaco.com/topic/353188-compiling-cm9-and-maybe-cm10-for-blade/page__st__740

Change-Id: I8ef847655d5c0b8dd6cc7e61f5de2b2c7c5cebbb
---
 libc/private/bionic_atomic_arm.h |    1 +
 1 file changed, 1 insertion(+)

diff --git a/libc/private/bionic_atomic_arm.h b/libc/private/bionic_atomic_arm.h
index 275c1c9..5fc9553 100644
--- a/libc/private/bionic_atomic_arm.h
+++ b/libc/private/bionic_atomic_arm.h
@@ -135,6 +135,7 @@ __bionic_memory_barrier(void)
  *
  * LDREX/STREX are only available starting from ARMv6
  */
+#undef __ARM_HAVE_LDREX_STREX
 #ifdef __ARM_HAVE_LDREX_STREX
 __ATOMIC_INLINE__ int
 __bionic_cmpxchg(int32_t old_value, int32_t new_value, volatile int32_t* ptr)
-- 
1.7.9.5

