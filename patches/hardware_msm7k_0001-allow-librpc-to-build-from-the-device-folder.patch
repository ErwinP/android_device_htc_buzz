From 53f663d91699fbb3b184a6b1a4f1f452d34ae62a Mon Sep 17 00:00:00 2001
From: Erwin Pannecoucke <erwin.pannecoucke@gmail.com>
Date: Mon, 17 Sep 2012 08:11:33 +0200
Subject: [PATCH] msm7k: allow librpc to build from the device folder

This isn't possible if BOARD_USES_QCOM_HARDWARE flag is set to
true. This patch makes the combo "set the flag" and "build librpc
from the device tree" possible.

Change-Id: I6ebc3355d59d5eca409053a053448d3ee1ea598b
---
 Android.mk |    4 ++++
 1 file changed, 4 insertions(+)

diff --git a/Android.mk b/Android.mk
index 49b4f38..1a1ef22 100644
--- a/Android.mk
+++ b/Android.mk
@@ -25,8 +25,12 @@ else
   ifeq ($(filter msm8960 msm8660 msm7627a msm7x30,$(TARGET_BOARD_PLATFORM)),)
      include $(call all-named-subdir-makefiles,$(common_msm_dirs))
   else
+    ifeq ($(BOARD_NEEDS_SRC_LIBRPC),true)
+    else
      include $(call all-named-subdir-makefiles,librpc)
+    endif
   endif
 endif
 
 endif
+endif
-- 
1.7.9.5

